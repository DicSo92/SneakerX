(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"21f3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex flex-center"},[a("div",{staticClass:"containerCard row flex-center"},[a("q-card",{staticClass:"col-xs-11 col-sm-9 col-md-6 col-lg-4"},[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"black","indicator-color":"purple-9",align:"justify","narrow-indicator":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"login",label:"Login"}}),a("q-tab",{attrs:{name:"register",label:"Register"}})],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"login"}},[a("Login")],1),a("q-tab-panel",{attrs:{name:"register"}},[a("Register")],1)],1)],1)],1)])},o=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"text-h6"},[e._v("Login")]),a("q-form",{staticClass:"q-gutter-md",on:{submit:e.login,reset:e.reset}},[a("q-input",{attrs:{filled:"",color:"purple-9",type:"email",autocomplete:"email",label:"Your email *","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("q-input",{attrs:{filled:"",color:"purple-9",type:"password",autocomplete:"current-password",label:"Your password *","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Please type your password"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("q-toggle",{attrs:{label:"I accept the license and terms",color:"purple-9"},model:{value:e.accept,callback:function(t){e.accept=t},expression:"accept"}}),a("div",[a("q-btn",{attrs:{label:"LogIn",type:"submit",color:"purple-10",icon:"lock"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"black",flat:""}})],1)],1)],1)},l=[],r=(a("7f7f"),a("5f87")),i=a("d8ad"),c={name:"Login",data:function(){return{tab:"login",email:null,password:null,accept:!1,loading:!1}},watch:{loading:function(e){e?this.$q.loading.show():this.$q.loading.hide()}},created:function(){var e=this;i["a"].$on("hideLoginLoading",(function(t){e.loading=!1,t&&e.$router.push({name:"home"})}))},beforeDestroy:function(){this.$q.loading.hide(),i["a"].$off("hideLoginLoading")},methods:{login:function(){var e=this;!0!==this.accept?console.log("You need to accept the license and terms first"):(this.loading=!0,this.$axios.get("/sanctum/csrf-cookie").then((function(t){console.log(t),e.$axios.post("/api/login",{email:e.email,password:e.password}).then((function(t){console.log("-----------"),console.log(t),Object(r["b"])(),e.$store.dispatch("auth/loadUser","login")})).catch((function(t){console.log("error ----"),console.log(t),e.loading=!1}))})))},reset:function(){this.name=null,this.age=null,this.accept=!1}}},u=c,p=a("2877"),d=a("eebe"),m=a.n(d),g=a("0378"),f=a("27f9"),b=a("9564"),h=a("9c40"),w=Object(p["a"])(u,n,l,!1,null,"57cd1972",null),q=w.exports;m()(w,"components",{QForm:g["a"],QInput:f["a"],QToggle:b["a"],QBtn:h["a"]});var v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register"},[a("div",{staticClass:"text-h6"},[e._v("Register")]),a("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit,reset:e.onReset}},[a("q-input",{attrs:{filled:"",color:"purple-9",label:"Enter your name *",hint:"Name and surname","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),a("q-input",{attrs:{filled:"",color:"purple-9",type:"email",autocomplete:"email",label:"Enter your email *","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("q-input",{attrs:{filled:"",color:"purple-9",type:"password",autocomplete:"new-password",label:"Enter your password *","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Please type your password"}]},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("q-input",{attrs:{filled:"",color:"purple-9",type:"password",autocomplete:"new-password",label:"Confirm your password *","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Please confirm your password"},function(t){return null!==t&&""!==t&&t===e.user.password||"Wrong Password"}]},model:{value:e.user.password_confirmation,callback:function(t){e.$set(e.user,"password_confirmation",t)},expression:"user.password_confirmation"}}),a("q-toggle",{attrs:{label:"I accept the license and terms",color:"purple-9"},model:{value:e.accept,callback:function(t){e.accept=t},expression:"accept"}}),e.errors.email?a("p",{staticClass:"text-negative"},[e._v("\n      "+e._s(e.errors.email[0])+"\n    ")]):e._e(),a("div",[a("q-btn",{attrs:{label:"Register",type:"submit",color:"purple-10",icon:"lock"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"black",flat:""}})],1)],1)],1)},y=[],x={name:"Register",data:function(){return{tab:"login",user:{name:null,email:null,password:null,password_confirmation:null},accept:!1,errors:{},loading:!1}},watch:{loading:function(e){e?this.$q.loading.show():this.$q.loading.hide()}},created:function(){var e=this;i["a"].$on("hideRegisterLoading",(function(t){e.loading=!1,t&&e.$router.push({name:"home"})}))},beforeDestroy:function(){this.$q.loading.hide(),i["a"].$off("hideRegisterLoading")},methods:{onSubmit:function(){var e=this;!0!==this.accept?console.log("You need to accept the license and terms first"):(this.loading=!0,this.$axios.post("/api/register",this.user).then((function(t){console.log(t),e.$axios.get("/sanctum/csrf-cookie").then((function(t){console.log(t),Object(r["b"])(),e.$store.dispatch("auth/loadUser","register")})).catch((function(t){console.log(t),e.loading=!1}))})).catch((function(t){console.log(t),422===t.response.status&&(e.errors=t.response.data.errors),e.loading=!1})))},onReset:function(){this.email=null,this.password=null,this.confirmPassword=null,this.accept=!1}}},$=x,k=Object(p["a"])($,v,y,!1,null,"ea3b9088",null),C=k.exports;m()(k,"components",{QForm:g["a"],QInput:f["a"],QToggle:b["a"],QBtn:h["a"]});var Q={name:"PageIndex",components:{Login:q,Register:C},data:function(){return{tab:"login"}},methods:{}},_=Q,L=(a("9ea8"),a("9989")),P=a("f09f"),R=a("429b"),j=a("7460"),z=a("eb85"),E=a("adad"),I=a("823b"),T=Object(p["a"])(_,s,o,!1,null,null,null);t["default"]=T.exports;m()(T,"components",{QPage:L["a"],QCard:P["a"],QTabs:R["a"],QTab:j["a"],QSeparator:z["a"],QTabPanels:E["a"],QTabPanel:I["a"]})},"9ea8":function(e,t,a){"use strict";var s=a("fdbd"),o=a.n(s);o.a},fdbd:function(e,t,a){}}]);