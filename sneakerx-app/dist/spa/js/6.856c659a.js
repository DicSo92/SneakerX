(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{3178:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{staticClass:"flex column justify-start items-center",attrs:{padding:""}},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col-10"},[e("div",{staticClass:"row full-width borderBottom q-mb-md"},[e("h6",{staticClass:"no-margin "},[t._v("Catalog :")])]),e("ProductList")],1)])])},s=[],o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"column items-center full-width"},[e("div",{staticClass:"flex full-width justify-between items-center q-mb-sm"},[t.totalProducts?e("p",{staticClass:"no-margin"},[t._v("\n      Total Products : "+t._s(t.totalProducts)+"\n    ")]):t._e(),e("div",{staticClass:"flex"},[e("q-select",{staticStyle:{"min-width":"80px"},attrs:{options:t.selectNbPerPage,label:"Per Page",dense:""},model:{value:t.nbPerPage,callback:function(a){t.nbPerPage=a},expression:"nbPerPage"}}),t.maxPages?e("q-pagination",{attrs:{color:"black",max:t.maxPages,input:!0},model:{value:t.page,callback:function(a){t.page=a},expression:"page"}}):t._e()],1)]),e("transition",{attrs:{duration:300,mode:"out-in","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.loading?t._e():e("div",{staticClass:"row q-col-gutter-md justify-start items-start q-mb-md"},t._l(t.products,(function(t){return e("div",{key:t.id,staticClass:"col-3"},[e("CardProduct",{attrs:{product:t}})],1)})),0)]),e("transition",{attrs:{duration:300,mode:"out-in","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.loading?e("div",{staticClass:"row q-col-gutter-md full-width q-mb-md"},t._l(t.nbPerPage,(function(t){return e("div",{key:t,staticClass:"col-3"},[e("CardProductSkeleton")],1)})),0):t._e()]),e("div",{staticClass:"flex flex-center q-mb-md"},[t.loading?t._e():e("q-pagination",{attrs:{max:t.maxPages,color:"black","direction-links":!0,"boundary-links":!0,"icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward"},model:{value:t.page,callback:function(a){t.page=a},expression:"page"}})],1)],1)},r=[],c=(e("7f7f"),e("7514"),e("45e8")),i=e("74dd"),l={name:"ProductList",components:{CardProduct:c["a"],CardProductSkeleton:i["a"]},data:function(){return{products:null,brands:null,page:1,nbPerPage:8,maxPages:null,totalProducts:null,selectNbPerPage:[4,8,12,16,20],loading:!0}},created:function(){this.getProducts(this.page,this.nbPerPage),this.getBrands()},watch:{nbPerPage:function(t){this.getProducts(this.page,t)},page:function(t){this.getProducts(t,this.nbPerPage)},queryParameter:function(t){if(t){var a=this.brands.find((function(a){return a.name===t})).id;console.log(a),this.getProductsPerBrand(1,this.nbPerPage,a)}else this.getProducts(1,this.nbPerPage)}},computed:{queryParameter:function(){return this.$route.query.brand}},methods:{getProducts:function(t,a){var e=this;this.loading=!0,this.$axios.get("/api/client/products?page=".concat(t,"&nb=").concat(a)).then((function(t){console.log(t),e.page=t.data.current_page,e.maxPages=t.data.last_page,e.totalProducts=t.data.total,e.products=t.data.data,e.loading=!1})).catch((function(t){return console.log(t)}))},getProductsPerBrand:function(t,a,e){var n=this;this.loading=!0,this.$axios.get("/api/client/productsBrand/".concat(e,"?page=").concat(t,"&nb=").concat(a)).then((function(t){console.log(t),n.page=t.data.current_page,n.maxPages=t.data.last_page,n.totalProducts=t.data.total,n.products=t.data.data,n.loading=!1})).catch((function(t){return console.log(t)}))},getBrands:function(){var t=this;this.loading=!0,this.$axios.get("/api/admin/brands").then((function(a){console.log(a),t.brands=a.data,t.loading=!1})).catch((function(a){console.log(a),t.loading=!1}))}}},d=l,u=e("2877"),g=e("eebe"),p=e.n(g),f=e("ddd8"),m=e("3b16"),P=Object(u["a"])(d,o,r,!1,null,"ff1edffe",null),b=P.exports;p()(P,"components",{QSelect:f["a"],QPagination:m["a"]});var h={name:"PageIndex",components:{ProductList:b},data:function(){return{}},methods:{}},v=h,q=(e("69ff"),e("9989")),x=Object(u["a"])(v,n,s,!1,null,"fd88a460",null);a["default"]=x.exports;p()(x,"components",{QPage:q["a"]})},"45e8":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"column justify-between full-height",attrs:{square:"",flat:""}},[e("q-img",{staticClass:"cursor-pointer",staticStyle:{width:"100%",height:"auto"},attrs:{src:t.product.image,basic:""},on:{click:function(a){return t.goToProduct(t.product.slug)}}},[e("div",{staticClass:"absolute-bottom text-subtitle2 productName"},[t._v("\n      "+t._s(t.product.name)+"\n    ")])]),e("q-card-section",[t._v("\n    "+t._s(t._f("truncate")(t.product.description,100,"..."))+"\n  ")]),e("q-card-actions",{staticClass:"q-pt-none",staticStyle:{"border-bottom":"1px solid #eeeeee"}},[e("q-btn",{attrs:{flat:""}},[t._v("\n      "+t._s(t.product.price/100)+" â‚¬\n    ")]),e("q-space"),e("q-btn",{attrs:{flat:"",round:"",color:"black",icon:"shopping_cart"},on:{click:function(a){return a.stopPropagation(),t.addToCart(t.product)}}})],1)],1)},s=[],o={name:"CardProduct",props:["product"],filters:{truncate:function(t,a,e){return t.length>a?t.substring(0,a)+e:t}},methods:{goToProduct:function(t){console.log("go to"),this.$router.push({name:"product",params:{slug:t}})},addToCart:function(t){console.log(t),this.$store.dispatch("cart/updateStorageCart",{product:t,color:t.colors[0],size:t.sizes[0].size,total:1})}}},r=o,c=(e("b114"),e("2877")),i=e("eebe"),l=e.n(i),d=e("f09f"),u=e("068f"),g=e("a370"),p=e("4b7e"),f=e("9c40"),m=e("2c91"),P=Object(c["a"])(r,n,s,!1,null,"a37f6502",null);a["a"]=P.exports;l()(P,"components",{QCard:d["a"],QImg:u["a"],QCardSection:g["a"],QCardActions:p["a"],QBtn:f["a"],QSpace:m["a"]})},"69ff":function(t,a,e){"use strict";var n=e("c522"),s=e.n(n);s.a},"74dd":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{attrs:{flat:"",square:""}},[e("q-skeleton",{attrs:{width:"100%",height:"250px",square:""}}),e("q-card-section",[e("q-skeleton",{attrs:{type:"text"}}),e("q-skeleton",{attrs:{type:"text"}}),e("q-skeleton",{attrs:{type:"text"}}),e("q-skeleton",{attrs:{type:"text"}})],1),e("q-card-actions",{staticClass:"q-pt-none",staticStyle:{"border-bottom":"1px solid #eeeeee"}},[e("q-skeleton",{attrs:{type:"QBtn"}}),e("q-space"),e("q-skeleton",{attrs:{type:"QBtn"}})],1)],1)},s=[],o={name:"CardProductSkeleton"},r=o,c=e("2877"),i=e("eebe"),l=e.n(i),d=e("f09f"),u=e("293e"),g=e("a370"),p=e("4b7e"),f=e("2c91"),m=Object(c["a"])(r,n,s,!1,null,"400a1f80",null);a["a"]=m.exports;l()(m,"components",{QCard:d["a"],QSkeleton:u["a"],QCardSection:g["a"],QCardActions:p["a"],QSpace:f["a"]})},ab9c:function(t,a,e){},b114:function(t,a,e){"use strict";var n=e("ab9c"),s=e.n(n);s.a},c522:function(t,a,e){}}]);