(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{0:function(e,t,n){e.exports=n("2f39")},"2f39":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"someGetter",(function(){return $}));var a={};n.r(a),n.d(a,"someMutation",(function(){return q})),n.d(a,"setIsLoggedIn",(function(){return _})),n.d(a,"setUser",(function(){return A}));var o={};n.r(o),n.d(o,"someAction",(function(){return O})),n.d(o,"loadUser",(function(){return U})),n.d(o,"logout",(function(){return j}));var i={};n.r(i),n.d(i,"getAppData",(function(){return z}));var c={};n.r(c),n.d(c,"changeCart",(function(){return F})),n.d(c,"removeProduct",(function(){return N})),n.d(c,"pushCart",(function(){return X})),n.d(c,"updateTotalCart",(function(){return H})),n.d(c,"clearCart",(function(){return M}));var u={};n.r(u),n.d(u,"getStorageCart",(function(){return T})),n.d(u,"updateStorageCart",(function(){return D})),n.d(u,"removeFromStorageCart",(function(){return E})),n.d(u,"clearCart",(function(){return W}));var s=n("967e"),l=n.n(s),d=(n("a481"),n("96cf"),n("fa84")),f=n.n(d),m=(n("7d6e"),n("e54f"),n("44391"),n("4605"),n("f580"),n("5b2b"),n("8753"),n("2967"),n("7e67"),n("d770"),n("dd82"),n("922c"),n("c32e"),n("a151"),n("8bc7"),n("d67f"),n("880e"),n("1c10"),n("9482"),n("e797"),n("4848"),n("e9fd"),n("195c"),n("64e9"),n("33c5"),n("4f62"),n("0dbc"),n("4953"),n("81db"),n("2e52"),n("22485"),n("7797"),n("e592"),n("70ca"),n("2318"),n("24bd"),n("8f27"),n("3064"),n("c9a2"),n("8767"),n("4a8e"),n("b828"),n("3c1c"),n("21cb"),n("c00e"),n("e4a8"),n("e4d3"),n("f4d9"),n("b794"),n("af24"),n("7c9c"),n("7bb2"),n("64f7"),n("c382"),n("f5d1"),n("3cec"),n("c00ee"),n("d450"),n("ca07"),n("14e3"),n("1dba"),n("674a"),n("de26"),n("6721"),n("25e9"),n("fc83"),n("98e5"),n("605a"),n("ba60"),n("df07"),n("7903"),n("e046"),n("58af"),n("7713"),n("0571"),n("3e27"),n("6837"),n("3fc9"),n("0693"),n("bf41"),n("985d"),n("31cd"),n("2b0e")),p=n("1f91"),h=n("42d2"),g=n("b05d"),b=n("f508");m["a"].use(g["a"],{config:{},lang:p["a"],iconSet:h["a"],plugins:{Loading:b["a"]}});var v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},w=[],x=n("d8ad"),L={name:"App",beforeCreate:function(){var e=this;console.log("beforeCreate"),this.$q.loading.show(),this.$store.dispatch("auth/loadUser","firstLoad"),this.$store.dispatch("cart/getStorageCart"),x["a"].$on("hideFirstLoading",(function(){e.$q.loading.hide()}))},created:function(){}},C=L,P=n("2877"),k=Object(P["a"])(C,v,w,!1,null,null,null),I=k.exports,S=n("2f62"),y=function(){return{isLoggedIn:!1,user:{}}};function $(){}function q(){}var _=function(e,t){e.isLoggedIn=t},A=function(e,t){e.user=t},R=n("5f87");function O(){}function U(e,t){var n=e.commit,r=e.dispatch;R["a"]&&this._vm.$axios.get("/api/user").then((function(e){console.log(e),n("setIsLoggedIn",!0),n("setUser",e.data),"login"===t&&x["a"].$emit("hideLoginLoading",!0),"register"===t&&x["a"].$emit("hideRegisterLoading",!0),"firstLoad"===t&&x["a"].$emit("hideFirstLoading")})).catch((function(e){console.log(e.message),r("logout"),"login"===t&&x["a"].$emit("hideLoginLoading",!1),"register"===t&&x["a"].$emit("hideRegisterLoading",!1),"firstLoad"===t&&x["a"].$emit("hideFirstLoading")}))}function j(e){var t=e.commit;console.log("action logout"),t("setIsLoggedIn",!1),t("setUser",{}),Object(R["c"])()}var J={namespaced:!0,getters:r,mutations:a,actions:o,state:y},V=function(){return{cart:[]}};function z(e){}function F(e,t){e.cart=t}function N(e,t){e.cart.splice(t,1)}function X(e,t){e.cart.push(t)}function H(e,t){var n=t.index,r=t.total;e.cart[n].total+=r}function M(e){e.cart=[]}n("20d6");function T(e){var t=e.commit;console.log("getStorageCart");var n=[],r=localStorage.getItem("cart");r?n=JSON.parse(r):localStorage.setItem("cart","[]"),t("changeCart",n)}function D(e,t){var n=e.commit,r=(e.dispatch,e.state),a=t.product,o=t.color,i=t.size,c=t.total,u=!!(r.cart&&r.cart.length>0),s=r.cart&&r.cart.length>0?r.cart.findIndex((function(e){return e.product.id===a.id})):-1,l=r.cart.findIndex((function(e){return e.product.id===a.id&&e.color.color===o.color&&e.size===i}));u&&-1!==s&&-1!==l?n("updateTotalCart",{index:l,total:c}):n("pushCart",{total:c,color:o,size:i,product:a}),localStorage.cart=JSON.stringify(r.cart)}function E(e,t){var n=e.commit,r=(e.dispatch,e.state);n("removeProduct",t),localStorage.cart=JSON.stringify(r.cart)}function W(e){var t=e.commit,n=e.state;t("clearCart"),localStorage.cart=JSON.stringify(n.cart)}var B={namespaced:!0,getters:i,mutations:c,actions:u,state:V};m["a"].use(S["a"]);var G=function(){var e=new S["a"].Store({modules:{auth:J,cart:B},strict:!1});return e},Q=n("8c4f"),K=[{path:"/",component:function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"2eda"))},children:[{path:"",name:"home",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"bc13b"))},meta:{requiresAuth:!0}},{path:"/auth",name:"auth",component:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"21f3"))},meta:{requiresVisitor:!0}},{path:"catalog",name:"catalog",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"3178"))}},{path:"catalog/:slug",name:"product",props:!0,component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"8e14"))}},{path:"news",name:"news",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"f8ed"))}},{path:"contact",name:"contact",component:function(){return Promise.all([n.e(0),n.e(18)]).then(n.bind(null,"af57"))}},{path:"cart",name:"cart",component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"90a5"))}},{path:"orderConfirmation/:orderId",name:"orderConfirmation",props:!0,component:function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"a400"))}}]},{path:"/dashboard",component:function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"8265"))},meta:{requiresAdmin:!0},children:[{path:"",name:"home_admin",component:function(){return Promise.all([n.e(0),n.e(20)]).then(n.bind(null,"3e16"))}},{path:"users",name:"users_admin",component:function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"579c"))}},{path:"news",name:"news_admin",component:function(){return Promise.all([n.e(0),n.e(19)]).then(n.bind(null,"b851"))}},{path:"brands",name:"brands_admin",component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"90fb"))}},{path:"products",name:"products_admin",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"c600"))}},{path:"orders",name:"orders_admin",component:function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"8200"))}},{path:"roles",name:"roles_admin",component:function(){return Promise.all([n.e(0),n.e(21)]).then(n.bind(null,"9a20"))}},{path:"activityLogs",name:"activityLogs_admin",component:function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"1b34"))}}]}];K.push({path:"*",component:function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"e51e"))}});var Y=K,Z=n("bc3a"),ee=n.n(Z),te=n("cf57"),ne=ee.a.create({baseURL:"http://localhost:8000",withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"}});m["a"].use(Q["a"]);var re=function(e){var t=e.store,n=(e.ssrContext,new Q["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:Y,mode:"history",base:"/"}));return n.beforeEach((function(e,n,r){e.matched.some((function(e){return e.meta.requiresAuth}))?Object(R["a"])()||t.state.auth.isLoggedIn?r():r({name:"auth"}):e.matched.some((function(e){return e.meta.requiresVisitor}))?Object(R["a"])()?r({name:"home"}):r():e.matched.some((function(e){return e.meta.requiresAdmin}))?(b["a"].show({message:'Checking Permissions.<br/><span class="text-primary">Hang on...</span>'}),ne.post("/api/admin").then((function(e){console.log("success"),console.log(e),r(),b["a"].hide()})).catch((function(e){console.log("error"),console.log(e),b["a"].show({spinner:te["a"],spinnerColor:"red",messageColor:"black",backgroundColor:"orange",message:'Doesn\'t have Permissions<br/><span class="text-primary">Redirecting...</span>'}),setTimeout((function(){b["a"].hide(),void 0,r({name:"home"})}),2e3)}))):r()})),n},ae=function(){return oe.apply(this,arguments)};function oe(){return oe=f()(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof G){e.next=6;break}return e.next=3,G({Vue:m["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=G;case 7:if(t=e.t0,"function"!==typeof re){e.next=14;break}return e.next=11,re({Vue:m["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=re;case 15:return n=e.t1,t.$router=n,r={el:"#q-app",router:n,store:t,render:function(e){return e(I)}},e.abrupt("return",{app:r,store:t,router:n});case 19:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}var ie=n("a925"),ce={failed:"Action failed",success:"Action was successful"},ue={"en-us":ce};m["a"].use(ie["a"]);var se=new ie["a"]({locale:"en-us",fallbackLocale:"en-us",messages:ue}),le=function(e){var t=e.app;t.i18n=se},de=(n("551c"),n("06db"),ee.a.create({baseURL:"https://sneakerx-shop.herokuapp.com",withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"}})),fe=function(e){var t=e.Vue,n=e.store;de.interceptors.response.use((function(e){return e}),(function(e){return console.log("reject"),401===e.response.status&&(console.log("**Unauthorized**"),n.dispatch("auth/logout")),Promise.reject(e)})),t.prototype.$axios=de};function me(){return pe.apply(this,arguments)}function pe(){return pe=f()(l.a.mark((function e(){var t,n,r,a,o,i,c,u,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:t=e.sent,n=t.app,r=t.store,a=t.router,o=!0,i=function(e){o=!1,window.location.href=e},c=window.location.href.replace(window.location.origin,""),u=[le,fe],s=0;case 11:if(!(!0===o&&s<u.length)){e.next=29;break}if("function"===typeof u[s]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,u[s]({app:n,router:a,store:r,Vue:m["a"],ssrContext:null,redirect:i,urlPath:c});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:s++,e.next=11;break;case 29:if(!1!==o){e.next=31;break}return e.abrupt("return");case 31:new m["a"](n);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),pe.apply(this,arguments)}me()},"31cd":function(e,t,n){},"5f87":function(e,t,n){"use strict";function r(){return localStorage.getItem("isLoggedIn")}function a(){return localStorage.setItem("isLoggedIn",!0)}function o(){return localStorage.removeItem("isLoggedIn")}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}))},d8ad:function(e,t,n){"use strict";var r=n("2b0e"),a=new r["a"];t["a"]=a}},[[0,2,0]]]);